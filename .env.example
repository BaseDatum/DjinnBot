# AI Provider Keys
# OPENROUTER_API_KEY is also used by QMDR for ClawVault semantic search
# (embeddings via text-embedding-3-small, reranking via gpt-4o-mini)
OPENROUTER_API_KEY=
ANTHROPIC_API_KEY=

# Redis (Event Bus)
REDIS_URL=redis://localhost:6379
REDIS_PORT=6379

# SQLite (Persistent Memory)
DATABASE_PATH=./data/djinnbot.db

# Services
API_PORT=8000
DASHBOARD_PORT=3000

# Network Binding
# Set to 127.0.0.1 when using Traefik reverse proxy (SSL mode).
# Set to 0.0.0.0 for direct access without a reverse proxy.
BIND_HOST=0.0.0.0

# Dashboard API URL (injected at container startup — no rebuild needed)
# Set by `djinn setup`. Change this and restart the dashboard container
# to point at a different API URL — no image rebuild required.
# For SSL: https://yourdomain.com  |  Direct access: http://your-ip:8000
VITE_API_URL=http://localhost:8000

# Domain (used by Traefik for SSL certificate)
DOMAIN=localhost

# API Domain (optional — only for subdomain routing mode)
# Set by `djinn setup` when using separate subdomain for the API.
# e.g. API_DOMAIN=api.djinn.example.com while DOMAIN=djinn.example.com
# API_DOMAIN=

# Image version tag for pre-built GHCR images (set by `djinn setup`)
# Only used with docker-compose.ghcr.yml
# DJINNBOT_VERSION=latest

# Agent Runtime Image
# Docker image used by the engine to spawn agent sandbox containers.
# Defaults to the pre-built GHCR image if not set.
# Override to use a locally-built or custom image.
# AGENT_RUNTIME_IMAGE=ghcr.io/basedatum/djinnbot/agent-runtime:latest

# Compose file override (set by `djinn setup` for pre-built mode)
# COMPOSE_FILE=docker-compose.ghcr.yml:docker-compose.override.yml

# Directories
PIPELINES_DIR=./pipelines
AGENTS_DIR=./agents
DATA_DIR=./data

# Slack Integration (optional)
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_CHANNEL_ID=

# Secrets Encryption Key
# AES-256-GCM key used to encrypt user-defined secrets (PATs, SSH keys, etc.) at rest.
# REQUIRED in production — without it, secrets are encrypted with an ephemeral key
# that changes on restart, making stored secrets permanently unrecoverable.
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_ENCRYPTION_KEY=

# Engine Internal Token
# Shared secret used to authenticate internal service-to-service calls.
# When AUTH_ENABLED=true, this is REQUIRED — the engine and agent-runtime use it
# to authenticate with the API. Also accepted as a first-class API key.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
ENGINE_INTERNAL_TOKEN=

# Authentication
# Master toggle — set to "false" to disable all auth (local dev only).
AUTH_ENABLED=false
# Secret key for signing JWT access/refresh tokens (HS256).
# Required when AUTH_ENABLED=true.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
AUTH_SECRET_KEY=
# TOTP issuer name displayed in authenticator apps (e.g. Google Authenticator).
AUTH_TOTP_ISSUER=DjinnBot

# MCP / mcpo Integration (optional)
# API key protecting the mcpo proxy — agents use this to call MCP tools.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
MCPO_API_KEY=changeme
# Port mcpo listens on (host-side). Default: 8001.
MCPO_PORT=8001

# GitHub App Configuration (optional)
# See secrets/README.md for setup instructions
GITHUB_APP_ID=
GITHUB_APP_CLIENT_ID=
GITHUB_APP_WEBHOOK_SECRET=
GITHUB_APP_PRIVATE_KEY_PATH=/data/secrets/github-app.pem
GITHUB_APP_NAME=djinnbot
